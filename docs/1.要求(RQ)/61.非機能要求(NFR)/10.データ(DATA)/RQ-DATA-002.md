---
id: RQ-DATA-002
title: APIの冪等性（再送耐性）
doc_type: 非機能要求
phase: RQ
version: 1.0.0
status: 承認
owner: RQ-SH-002
created: 2026-02-11
updated: 2026-02-11
up:
- '[[RQ-SC-001]]'
- '[[RQ-RDR-010]]'
related:
- '[[RQ-PS-005]]'
- '[[RQ-AV-008]]'
tags:
- CornellNoteWeb
- RQ
- NFR
- DATA
---

## SnowCard（日本語）
- **要求ID**: RQ-DATA-002
- **種別**: 非機能要求（Non-functional（Reliability/Data））
- **優先度**: SHOULD
- **要求**: 本システムは、外部から再送が発生し得る更新系APIについて、冪等性を提供し、同一要求の重複処理を防止しなければならない。
- **根拠**: ネットワーク再送やタイムアウト再試行による二重登録を防ぐため。
- **受入基準**:
  - 冪等キーまたは等価な仕組みが実装され、同一要求を複数回送信しても結果が一意であることをテストで確認する（テスト）。
- **例外/エラー**:
  - 前提条件や依存要件が未達の場合は、暫定対策・期限・責任者を記録し、次回リリースまでに是正する。
- **依存・関連**:
  - [[RQ-PS-005]]
  - [[RQ-AV-008]]
- **起案者**: アーキテクト／開発
- **参考資料**: API設計標準

## 変更履歴
- 2026-02-11: NFR_all.txt をもとにSnowCard形式へ再定義
